<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="An interactive experience inspired by Dr. Martin Luther King Jr.'s 'What Is Your Life's Blueprint?' speech. Create your life blueprint based on three principles: Dignity, Excellence, and Persistence.">
    <meta name="keywords" content="MLK, Martin Luther King, life blueprint, personal development, dignity, excellence, persistence, interactive experience">
    <meta name="author" content="Eric Brown Jr. - ELVTE Labs">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://learnwitheb.github.io/life-blueprint/">
    <meta property="og:title" content="Your Life Blueprint: Interactive Experience">
    <meta property="og:description" content="An interactive experience inspired by Dr. Martin Luther King Jr.'s 'What Is Your Life's Blueprint?' speech.">
    <meta property="og:image" content="https://images.unsplash.com/photo-1517457373958-b7bdd4587205?q=80&w=1200&auto=format&fit=crop">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://learnwitheb.github.io/life-blueprint/">
    <meta property="twitter:title" content="Your Life Blueprint: Interactive Experience">
    <meta property="twitter:description" content="An interactive experience inspired by Dr. Martin Luther King Jr.'s 'What Is Your Life's Blueprint?' speech.">
    <meta property="twitter:image" content="https://images.unsplash.com/photo-1517457373958-b7bdd4587205?q=80&w=1200&auto=format&fit=crop">
    
    <title>Your Life Blueprint: Interactive Experience</title>
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #F8FAFC; 
            color: #1E293B;
            scroll-behavior: smooth;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }

        .blueprint-grid {
            background-image: linear-gradient(#e2e8f0 1px, transparent 1px), linear-gradient(90deg, #e2e8f0 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .card-shadow {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card-shadow:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .quote-box::before {
            content: """;
            position: absolute;
            top: -20px;
            left: 10px;
            font-size: 80px;
            color: #1E40AF;
            opacity: 0.1;
            font-family: serif;
        }

        .step-stair {
            border-left: 4px solid #1E40AF;
            border-bottom: 4px solid #1E40AF;
            width: 40px;
            height: 40px;
            display: inline-block;
        }

        input[type="range"] {
            accent-color: #F59E0B;
        }

        .hidden-view {
            display: none !important;
        }

        .blueprint-border {
            border: 8px double #1E40AF;
        }

        .pillar-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 1rem;
        }

        .creator-image {
            filter: contrast(105%) brightness(1.02);
            border: 6px solid #F59E0B;
            object-position: center center;
            transition: transform 0.3s ease;
        }
        
        .creator-image:hover {
            transform: scale(1.02);
        }

        .export-loading {
            opacity: 0.6;
            pointer-events: none;
        }

        @media print {
            .no-print {
                display: none !important;
            }
            #certificate-container {
                box-shadow: none;
                border: none;
            }
        }

        /* Mobile Optimizations */
        @media (max-width: 640px) {
            body {
                font-size: 15px;
            }

            h1 {
                font-size: 2rem !important;
                line-height: 1.2;
            }

            h2 {
                font-size: 1.5rem !important;
            }

            .chart-container {
                height: 280px;
                max-height: 300px;
            }

            section {
                padding: 1.5rem !important;
                border-radius: 1.5rem !important;
            }

            .card-shadow:hover {
                transform: none;
            }

            /* Better touch targets */
            button, a {
                min-height: 44px;
                min-width: 44px;
            }

            /* Stack buttons vertically on mobile */
            .flex-wrap {
                gap: 0.75rem;
            }

            /* Improve form inputs */
            input[type="text"],
            textarea {
                font-size: 16px; /* Prevents iOS zoom */
            }

            /* Reduce padding in header */
            header {
                padding-top: 3rem !important;
                padding-bottom: 3rem !important;
            }

            /* Step stairs smaller on mobile */
            .step-stair {
                width: 30px;
                height: 30px;
            }

            /* Footer spacing */
            footer {
                padding: 2.5rem 1rem !important;
            }

            footer .flex {
                flex-direction: column;
                gap: 1rem;
            }
        }

        /* Tablet adjustments */
        @media (max-width: 768px) {
            .blueprint-border {
                border-width: 6px;
                padding: 2rem !important;
            }

            #certificate-container {
                padding: 2rem !important;
            }
        }

        /* Touch-friendly improvements */
        @media (hover: none) {
            .card-shadow:hover {
                transform: none;
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            }
        }
    </style>
</head>
<body class="min-h-screen bg-slate-50" style="background-image: linear-gradient(rgba(30, 64, 175, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(30, 64, 175, 0.05) 1px, transparent 1px); background-size: 30px 30px;">

    <!-- NAVIGATION VIEW: INFOGRAPHIC -->
    <div id="view-infographic">

        <!-- Top Navigation Bar -->
        <nav class="fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-md border-b border-slate-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <!-- Left: Brand -->
                    <div class="flex items-center gap-3">
                        <span class="text-xl font-black text-slate-900 tracking-tight">ELVTE Labs</span>
                        <span class="px-2 py-1 text-[10px] font-bold uppercase tracking-wider bg-amber-100 text-amber-700 rounded-full">Experiment</span>
                    </div>
                    <!-- Right: Tagline -->
                    <div class="hidden sm:flex items-center gap-1 text-sm text-slate-500">
                        <span class="font-semibold text-slate-700">Learn</span><span>.</span>
                        <span class="font-semibold text-slate-700">Create</span><span>.</span>
                        <span class="font-semibold text-slate-700">Share</span><span>.</span>
                        <span class="font-semibold text-amber-600">Repeat</span><span>.</span>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <header class="relative pt-24 pb-48 overflow-hidden" id="hero">
            <!-- Background -->
            <div class="absolute inset-0 bg-gradient-to-b from-blue-800 via-blue-700 to-blue-600"></div>

            <!-- Blueprint Grid Overlay -->
            <div class="absolute inset-0" style="background-image: linear-gradient(rgba(255,255,255,0.15) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.15) 1px, transparent 1px); background-size: 30px 30px;"></div>

            <div class="relative z-10 text-center px-4 max-w-5xl mx-auto">
                <!-- Main Title -->
                <h1 class="text-5xl sm:text-6xl md:text-7xl font-black text-white mb-4 tracking-tight italic">
                    YOUR LIFE BLUEPRINT
                </h1>
                <p class="text-xl sm:text-2xl font-light text-white/80 italic mb-10">
                    "Be the best of whatever you are."
                </p>

                <!-- Navigation Buttons -->
                <div class="flex flex-wrap justify-center gap-3">
                    <button onclick="scrollToId('pillar-one')" class="bg-amber-500 hover:bg-amber-400 text-blue-900 font-bold px-6 py-3 rounded-full transition-all duration-300 shadow-lg">
                        1. Dignity
                    </button>
                    <button onclick="scrollToId('pillar-two')" class="bg-white hover:bg-gray-100 text-blue-800 font-bold px-6 py-3 rounded-full transition-all duration-300 shadow-lg">
                        2. Excellence
                    </button>
                    <button onclick="scrollToId('pillar-three')" class="bg-white hover:bg-gray-100 text-blue-800 font-bold px-6 py-3 rounded-full transition-all duration-300 shadow-lg">
                        3. Persistence
                    </button>
                    <button onclick="showView('drafting')" class="bg-white hover:bg-gray-100 text-blue-800 font-bold px-6 py-3 rounded-full transition-all duration-300 shadow-lg">
                        Draft My Blueprint
                    </button>
                </div>
            </div>
        </header>

        <main class="max-w-6xl mx-auto px-4 pb-12 space-y-12 -mt-32 relative z-20">

            <!-- WELCOME / HOW IT WORKS - Overlapping Card -->
            <section id="how-it-works" class="scroll-mt-20">
                <div class="bg-white rounded-3xl shadow-xl p-6 sm:p-8 max-w-4xl mx-auto">
                    <div class="text-center mb-6">
                        <span class="inline-block bg-blue-100 text-blue-700 text-xs font-bold uppercase tracking-widest px-4 py-2 rounded-full mb-4">Welcome</span>
                        <h2 class="text-3xl sm:text-4xl font-black text-blue-800 mb-4">An Interactive Experience</h2>
                        <p class="text-gray-600 text-lg max-w-2xl mx-auto leading-relaxed">
                            This site brings Dr. Martin Luther King Jr.'s powerful message to life through an interactive journey. Explore the three principles from his 1967 speech to students, reflect on their meaning, and create your own personal blueprint for living with purpose.
                        </p>
                    </div>

                    <!-- Journey Steps - Horizontal -->
                    <div class="bg-gray-50 rounded-2xl p-6 sm:p-8">
                        <p class="text-center text-xs font-bold uppercase tracking-widest text-gray-500 mb-6">Your Journey</p>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <!-- Step 1 -->
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-amber-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0">1</div>
                                <div>
                                    <h3 class="font-bold text-gray-900 mb-1">Watch & Listen</h3>
                                    <p class="text-sm text-gray-600">Experience Dr. King's original speech to students</p>
                                </div>
                            </div>
                            <!-- Step 2 -->
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-amber-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0">2</div>
                                <div>
                                    <h3 class="font-bold text-gray-900 mb-1">Explore the Principles</h3>
                                    <p class="text-sm text-gray-600">Discover Dignity, Excellence, and Persistence</p>
                                </div>
                            </div>
                            <!-- Step 3 -->
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-amber-500 text-white rounded-full flex items-center justify-center font-bold flex-shrink-0">3</div>
                                <div>
                                    <h3 class="font-bold text-gray-900 mb-1">Draft Your Blueprint</h3>
                                    <p class="text-sm text-gray-600">Create and save your personal life blueprint</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <p class="text-center text-gray-400 text-sm mt-6 italic">For students, educators, parents, and community leaders of all ages.</p>
                </div>
            </section>

            <!-- THE SPEECH: Historical Context + Video -->
            <section id="speech" class="scroll-mt-20">
                <div class="text-center mb-6">
                    <span class="inline-block bg-slate-100 text-slate-600 text-xs font-bold uppercase tracking-widest px-4 py-2 rounded-full mb-4">The Speech</span>
                    <h2 class="text-3xl sm:text-5xl font-black text-slate-900 mb-3">"What Is Your Life's Blueprint?"</h2>
                    <p class="text-slate-400 text-sm uppercase tracking-widest font-semibold">Dr. Martin Luther King Jr.</p>
                </div>

                <!-- Historical Context Card -->
                <div class="bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden max-w-4xl mx-auto mb-6">
                    <div class="grid grid-cols-1 sm:grid-cols-3 divide-y sm:divide-y-0 sm:divide-x divide-slate-100">
                        <div class="p-8 text-center">
                            <div class="w-12 h-12 bg-slate-100 rounded-xl flex items-center justify-center mx-auto mb-4">
                                <svg class="w-6 h-6 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                            </div>
                            <p class="text-slate-400 text-xs font-bold uppercase tracking-widest mb-1">When</p>
                            <p class="text-slate-900 font-bold text-lg">October 26, 1967</p>
                        </div>
                        <div class="p-8 text-center">
                            <div class="w-12 h-12 bg-slate-100 rounded-xl flex items-center justify-center mx-auto mb-4">
                                <svg class="w-6 h-6 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                            </div>
                            <p class="text-slate-400 text-xs font-bold uppercase tracking-widest mb-1">Where</p>
                            <p class="text-slate-900 font-bold text-lg">Philadelphia, PA</p>
                        </div>
                        <div class="p-8 text-center">
                            <div class="w-12 h-12 bg-slate-100 rounded-xl flex items-center justify-center mx-auto mb-4">
                                <svg class="w-6 h-6 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                            </div>
                            <p class="text-slate-400 text-xs font-bold uppercase tracking-widest mb-1">Audience</p>
                            <p class="text-slate-900 font-bold text-lg">Barratt Junior High</p>
                        </div>
                    </div>
                </div>

                <!-- Video Player - Centered -->
                <div class="max-w-4xl mx-auto">
                    <div class="aspect-video w-full rounded-2xl overflow-hidden shadow-2xl bg-slate-900 ring-1 ring-slate-200">
                        <iframe class="w-full h-full" src="https://www.youtube.com/embed/ZmtOGXreTOU" title="What Is Your Life's Blueprint?" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy"></iframe>
                    </div>
                    <p class="text-center text-slate-400 text-sm mt-6 leading-relaxed max-w-2xl mx-auto">Six months before his assassination, Dr. King spoke to students facing unique challenges of their time. His message about dignity, excellence, and persistence transcends any era—these principles belong to all of us.</p>
                </div>

                <!-- Key Message -->
                <div class="max-w-3xl mx-auto mt-6 bg-gradient-to-br from-blue-900 to-blue-800 p-6 sm:p-8 rounded-2xl relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-64 h-64 bg-amber-500/10 rounded-full blur-3xl"></div>
                    <div class="relative">
                        <svg class="w-10 h-10 text-amber-500/50 mb-4" fill="currentColor" viewBox="0 0 24 24"><path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/></svg>
                        <p class="text-white font-medium text-xl sm:text-2xl leading-relaxed mb-4">
                            What you do now and what you decide now at this age may well determine which way your life shall go.
                        </p>
                        <p class="text-amber-400 text-sm font-bold">— Dr. Martin Luther King Jr.</p>
                    </div>
                </div>
            </section>


            <!-- PILLAR ONE: DIGNITY & SOMEBODINESS -->
            <section id="pillar-one" class="scroll-mt-10">
                <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
                    <span class="inline-block bg-slate-100 text-slate-600 text-xs font-bold uppercase tracking-widest px-4 py-2 rounded-full mb-4">Principle One</span>
                    <h2 class="text-3xl sm:text-4xl font-black text-slate-900 mb-4">Dignity, Worth, & Somebodiness</h2>
                    <p class="text-slate-500 mb-6 max-w-3xl leading-relaxed">
                        Dr. King's first instruction: Believe deeply in your own "Somebodiness." In a world that often pressures us to conform, he called for radical self-acceptance and pride in who you are.
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="group bg-gradient-to-br from-blue-900 to-blue-800 p-6 rounded-2xl relative overflow-hidden">
                            <div class="absolute top-0 right-0 w-32 h-32 bg-amber-500/10 rounded-full blur-2xl"></div>
                            <div class="relative">
                                <svg class="w-8 h-8 text-amber-500/50 mb-3" fill="currentColor" viewBox="0 0 24 24"><path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/></svg>
                                <p class="font-bold text-white text-xl mb-2">"I Am Somebody!"</p>
                                <p class="text-sm text-slate-300">Your natural self—your features, your heritage, your story—is worthy exactly as it is.</p>
                            </div>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-2xl border border-slate-100 hover:border-amber-200 hover:shadow-lg transition-all duration-300">
                            <div class="w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center mb-4">
                                <svg class="w-5 h-5 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                            </div>
                            <p class="text-slate-700 font-medium">Don't allow anybody to make you feel that you are nobody.</p>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-2xl border border-slate-100 hover:border-amber-200 hover:shadow-lg transition-all duration-300">
                            <div class="w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center mb-4">
                                <svg class="w-5 h-5 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                            </div>
                            <p class="text-slate-700 font-medium">Always feel that your life has <strong>ultimate significance</strong>.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PILLAR TWO: EXCELLENCE -->
            <section id="pillar-two" class="scroll-mt-10">
                <div class="bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 p-6 sm:p-8 rounded-2xl shadow-xl text-white relative overflow-hidden">
                    <div class="absolute inset-0 opacity-10 pointer-events-none blueprint-grid"></div>
                    <div class="absolute top-0 right-0 w-96 h-96 bg-amber-500/10 rounded-full blur-3xl"></div>
                    <div class="relative z-10">
                        <span class="inline-block bg-amber-500 text-slate-900 text-xs font-bold uppercase tracking-widest px-4 py-2 rounded-full mb-4">Principle Two</span>
                        <h2 class="text-3xl sm:text-4xl font-black mb-4">The Determination to Achieve Excellence</h2>
                        <p class="text-blue-100 mb-6 max-w-3xl leading-relaxed">
                            Dr. King challenged students to never settle for "good enough." Don't limit your dreams based on what others expect of you. Strive to be so excellent at your craft that your work speaks for itself and opens doors that were once closed.
                        </p>

                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                            <div class="group bg-white/10 backdrop-blur-sm p-6 rounded-2xl border border-white/20 text-center hover:bg-white/15 hover:border-amber-500/30 transition-all duration-300">
                                <div class="w-14 h-14 bg-blue-800 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:bg-amber-500/20 transition-colors">
                                    <span class="text-2xl">&#127912;</span>
                                </div>
                                <h4 class="font-bold mb-1 text-white">Michelangelo</h4>
                                <p class="text-xs text-blue-200">Paint pictures with absolute precision.</p>
                            </div>
                            <div class="group bg-white/10 backdrop-blur-sm p-6 rounded-2xl border border-white/20 text-center hover:bg-white/15 hover:border-amber-500/30 transition-all duration-300">
                                <div class="w-14 h-14 bg-blue-800 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:bg-amber-500/20 transition-colors">
                                    <span class="text-2xl">&#127929;</span>
                                </div>
                                <h4 class="font-bold mb-1 text-white">Beethoven</h4>
                                <p class="text-xs text-blue-200">Compose music with world-class harmony.</p>
                            </div>
                            <div class="group bg-white/10 backdrop-blur-sm p-6 rounded-2xl border border-white/20 text-center hover:bg-white/15 hover:border-amber-500/30 transition-all duration-300">
                                <div class="w-14 h-14 bg-blue-800 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:bg-amber-500/20 transition-colors">
                                    <span class="text-2xl">&#127913;</span>
                                </div>
                                <h4 class="font-bold mb-1 text-white">Leontyne Price</h4>
                                <p class="text-xs text-blue-200">Sing with the power of the Metropolitan Opera.</p>
                            </div>
                            <div class="group bg-white/10 backdrop-blur-sm p-6 rounded-2xl border border-white/20 text-center hover:bg-white/15 hover:border-amber-500/30 transition-all duration-300">
                                <div class="w-14 h-14 bg-blue-800 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:bg-amber-500/20 transition-colors">
                                    <span class="text-2xl">&#9997;</span>
                                </div>
                                <h4 class="font-bold mb-1 text-white">Shakespeare</h4>
                                <p class="text-xs text-blue-200">Write poetry that echoes through history.</p>
                            </div>
                        </div>

                        <div class="bg-amber-500 text-blue-900 p-8 rounded-2xl font-bold text-lg md:text-xl text-center italic shadow-2xl">
                            "Sweep streets so well that all the hosts of Heaven and Earth will have to pause and say: Here lived a great street sweeper who swept his job well."
                        </div>
                    </div>
                </div>
            </section>

            <!-- PILLAR THREE: PERSISTENCE & ETERNAL PRINCIPLES -->
            <section id="pillar-three" class="scroll-mt-10">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-sm border border-slate-100">
                        <span class="inline-block bg-slate-100 text-slate-600 text-xs font-bold uppercase tracking-widest px-4 py-2 rounded-full mb-4">Principle Three</span>
                        <h2 class="text-3xl sm:text-4xl font-black text-slate-900 mb-4">Eternal Principles & Movement</h2>
                        <p class="text-slate-500 mb-6 leading-relaxed">
                            A blueprint must include a commitment to <strong>Beauty, Love, and Justice</strong>. Recognizing that life is not a "crystal stair," we must maintain forward momentum at all costs.
                        </p>
                        <div class="space-y-6">
                            <div class="flex items-center gap-4">
                                <div class="w-10 h-10 bg-blue-900 rounded-xl flex items-center justify-center flex-shrink-0">
                                    <svg class="w-5 h-5 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                                </div>
                                <p class="font-bold text-blue-900 text-xl">"If you can't fly, <span class="text-amber-500">RUN</span>."</p>
                            </div>
                            <div class="flex items-center gap-4 pl-8">
                                <div class="w-10 h-10 bg-blue-800 rounded-xl flex items-center justify-center flex-shrink-0">
                                    <svg class="w-5 h-5 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
                                </div>
                                <p class="font-bold text-blue-800 text-xl">"If you can't run, <span class="text-amber-500">WALK</span>."</p>
                            </div>
                            <div class="flex items-center gap-4 pl-16">
                                <div class="w-10 h-10 bg-blue-700 rounded-xl flex items-center justify-center flex-shrink-0">
                                    <svg class="w-5 h-5 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14"></path></svg>
                                </div>
                                <p class="font-bold text-blue-700 text-xl">"If you can't walk, <span class="text-amber-500">CRAWL</span>."</p>
                            </div>
                            <div class="pt-8 text-center">
                                <span class="inline-flex items-center gap-2 bg-blue-800 text-white px-8 py-4 rounded-full font-black uppercase text-lg shadow-xl animate-pulse">
                                    KEEP MOVING!
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                         <div class="text-center mb-6">
                            <span class="inline-block bg-amber-100 text-amber-700 text-xs font-bold uppercase tracking-widest px-3 py-1 rounded-full mb-2">Interactive</span>
                            <h3 class="font-bold text-slate-900 text-lg mb-1">Your Life Blueprint Radar</h3>
                            <p class="text-slate-400 text-sm">Adjust each area to reflect where you are today.</p>
                         </div>

                         <div class="chart-container h-[280px] sm:h-[300px] mb-6"><canvas id="interactiveRadar"></canvas></div>

                         <!-- Interactive Controls with Prompts -->
                         <div class="space-y-4 w-full">
                            <!-- Dignity -->
                            <div class="bg-slate-50 p-4 rounded-xl border border-slate-100">
                                <div class="flex justify-between items-center mb-2">
                                    <label class="font-semibold text-slate-700 text-sm">Dignity & Self-Worth</label>
                                    <span id="value-worth" class="text-amber-600 font-bold text-sm bg-amber-50 px-2 py-0.5 rounded">80%</span>
                                </div>
                                <input type="range" id="input-worth" min="10" max="100" value="80" class="w-full h-2 cursor-pointer mb-2">
                                <p class="text-slate-500 text-xs italic">"Do I truly believe I am somebody?"</p>
                            </div>

                            <!-- Excellence -->
                            <div class="bg-slate-50 p-4 rounded-xl border border-slate-100">
                                <div class="flex justify-between items-center mb-2">
                                    <label class="font-semibold text-slate-700 text-sm">Excellence in Work</label>
                                    <span id="value-work" class="text-amber-600 font-bold text-sm bg-amber-50 px-2 py-0.5 rounded">85%</span>
                                </div>
                                <input type="range" id="input-work" min="10" max="100" value="85" class="w-full h-2 cursor-pointer mb-2">
                                <p class="text-slate-500 text-xs italic">"Would others pause to admire my work?"</p>
                            </div>

                            <!-- Persistence -->
                            <div class="bg-slate-50 p-4 rounded-xl border border-slate-100">
                                <div class="flex justify-between items-center mb-2">
                                    <label class="font-semibold text-slate-700 text-sm">Persistence & Resilience</label>
                                    <span id="value-persistence" class="text-amber-600 font-bold text-sm bg-amber-50 px-2 py-0.5 rounded">90%</span>
                                </div>
                                <input type="range" id="input-persistence" min="10" max="100" value="90" class="w-full h-2 cursor-pointer mb-2">
                                <p class="text-slate-500 text-xs italic">"Do I keep moving when obstacles arise?"</p>
                            </div>

                            <!-- Eternal Values -->
                            <div class="bg-slate-50 p-4 rounded-xl border border-slate-100">
                                <div class="flex justify-between items-center mb-2">
                                    <label class="font-semibold text-slate-700 text-sm">Eternal Values</label>
                                    <span id="value-values" class="text-amber-600 font-bold text-sm bg-amber-50 px-2 py-0.5 rounded">75%</span>
                                </div>
                                <input type="range" id="input-values" min="10" max="100" value="75" class="w-full h-2 cursor-pointer mb-2">
                                <p class="text-slate-500 text-xs italic">"Am I committed to beauty, love, and justice?"</p>
                            </div>

                            <!-- Ready for Opportunity -->
                            <div class="bg-slate-50 p-4 rounded-xl border border-slate-100">
                                <div class="flex justify-between items-center mb-2">
                                    <label class="font-semibold text-slate-700 text-sm">Ready for Opportunity</label>
                                    <span id="value-opportunity" class="text-amber-600 font-bold text-sm bg-amber-50 px-2 py-0.5 rounded">65%</span>
                                </div>
                                <input type="range" id="input-opportunity" min="10" max="100" value="65" class="w-full h-2 cursor-pointer mb-2">
                                <p class="text-slate-500 text-xs italic">"Am I prepared when opportunity knocks?"</p>
                            </div>
                         </div>

                         <!-- Reflection Prompt -->
                         <div class="mt-6 p-4 bg-blue-800 rounded-xl text-center">
                            <p class="text-amber-400 text-xs font-bold uppercase tracking-wider mb-1">Reflection</p>
                            <p class="text-blue-100 text-sm">"Which area needs the most attention right now?"</p>
                         </div>
                    </div>
                </div>
            </section>

            <!-- THE POEM SECTION -->
            <section class="bg-slate-50 p-6 sm:p-8 rounded-2xl border border-slate-200 text-center">
                <span class="inline-block bg-amber-100 text-amber-700 text-xs font-bold uppercase tracking-widest px-4 py-2 rounded-full mb-6">The Closing Wisdom</span>
                <h2 class="text-2xl sm:text-3xl font-black text-slate-900 mb-6">"Be the BEST of whatever you are"</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="group p-6 bg-white rounded-2xl shadow-sm border border-slate-100 hover:border-amber-200 hover:shadow-lg transition-all duration-300">
                        <p class="text-slate-400 text-xs font-bold mb-2 uppercase tracking-wider">Can't be a Pine?</p>
                        <p class="text-xl font-black text-slate-900">Be a <span class="text-amber-500">Shrub</span></p>
                    </div>
                    <div class="group p-6 bg-white rounded-2xl shadow-sm border border-slate-100 hover:border-amber-200 hover:shadow-lg transition-all duration-300">
                        <p class="text-slate-400 text-xs font-bold mb-2 uppercase tracking-wider">Can't be a Tree?</p>
                        <p class="text-xl font-black text-slate-900">Be a <span class="text-amber-500">Bush</span></p>
                    </div>
                    <div class="group p-6 bg-white rounded-2xl shadow-sm border border-slate-100 hover:border-amber-200 hover:shadow-lg transition-all duration-300">
                        <p class="text-slate-400 text-xs font-bold mb-2 uppercase tracking-wider">Can't be a Highway?</p>
                        <p class="text-xl font-black text-slate-900">Be a <span class="text-amber-500">Trail</span></p>
                    </div>
                    <div class="group p-6 bg-white rounded-2xl shadow-sm border border-slate-100 hover:border-amber-200 hover:shadow-lg transition-all duration-300">
                        <p class="text-slate-400 text-xs font-bold mb-2 uppercase tracking-wider">Can't be a Sun?</p>
                        <p class="text-xl font-black text-slate-900">Be a <span class="text-amber-500">Star</span></p>
                    </div>
                </div>
                <div class="mt-6 max-w-3xl mx-auto">
                    <p class="text-xl md:text-2xl font-bold text-slate-700 leading-relaxed">
                        "For it isn't by size that you win or you fail. Be the <span class="text-amber-500 font-black">BEST</span> of whatever you are."
                    </p>
                </div>
            </section>

            <!-- CALL TO ACTION: Draft Your Blueprint -->
            <section class="relative">
                <div class="bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 p-6 sm:p-10 rounded-2xl shadow-2xl text-white text-center relative overflow-hidden">
                    <div class="absolute inset-0 opacity-10 pointer-events-none blueprint-grid"></div>
                    <div class="absolute top-0 left-0 w-96 h-96 bg-amber-500/10 rounded-full blur-3xl"></div>
                    <div class="absolute bottom-0 right-0 w-96 h-96 bg-amber-500/5 rounded-full blur-3xl"></div>
                    <div class="relative z-10">
                        <span class="inline-block bg-amber-500 text-blue-900 text-xs font-black uppercase tracking-widest px-4 py-2 rounded-full mb-6">Your Turn</span>
                        <h2 class="text-3xl sm:text-4xl font-black mb-4">Draft Your Blueprint</h2>
                        <p class="text-blue-100 text-lg max-w-2xl mx-auto mb-10 leading-relaxed">
                            Now that you've explored the three principles, take a moment to reflect. Answer the prompts, create your personal blueprint, and save it as a reminder of your commitment to living with purpose.
                        </p>

                        <div class="flex flex-col sm:flex-row justify-center gap-4 mb-10">
                            <button onclick="showView('drafting')" class="group bg-amber-500 text-blue-900 font-bold px-10 py-4 rounded-full shadow-2xl hover:bg-amber-400 hover:shadow-amber-500/25 transition-all duration-300 hover:-translate-y-1 text-lg flex items-center justify-center gap-3">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                                </svg>
                                <span>Start My Blueprint</span>
                                <svg class="w-4 h-4 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                            </button>
                        </div>

                        <div class="flex flex-wrap justify-center gap-8 text-sm text-blue-200">
                            <div class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-amber-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                                <span>3 reflection prompts</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-amber-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                                <span>Download as PDF or image</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-amber-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                                <span>Keep for your records</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <!-- NAVIGATION VIEW: DRAFTING TABLE -->
    <div id="view-drafting" class="hidden-view">
        <header class="bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 text-white py-16 px-4 shadow-xl mb-10 text-center relative overflow-hidden">
            <div class="absolute inset-0 opacity-20 pointer-events-none blueprint-grid"></div>
            <div class="absolute top-0 right-0 w-96 h-96 bg-amber-500/10 rounded-full blur-3xl"></div>
            <div class="max-w-4xl mx-auto relative z-10">
                <span class="inline-block bg-amber-500 text-blue-900 text-xs font-bold uppercase tracking-widest px-4 py-2 rounded-full mb-4">Step 3</span>
                <h1 class="text-3xl md:text-5xl font-black tracking-tight">The Drafting Table</h1>
                <p class="text-blue-300 mt-3">Constructing your life blueprint, one principle at a time.</p>
                <button onclick="showView('infographic')" class="mt-6 inline-flex items-center gap-2 text-sm font-semibold text-blue-300 hover:text-white transition">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                    Back to Experience
                </button>
            </div>
        </header>

        <main class="max-w-3xl mx-auto px-4 pb-20">
            <div class="bg-white p-8 sm:p-10 rounded-3xl shadow-xl border border-slate-100 space-y-10">
                <div class="space-y-8">
                    <div class="border-b border-slate-100 pb-8">
                        <label class="block text-slate-400 font-bold text-xs uppercase tracking-widest mb-3">Your Name</label>
                        <input type="text" id="draft-name" placeholder="Enter your name" class="w-full text-2xl font-bold text-slate-900 border-none outline-none focus:ring-0 placeholder-slate-300">
                    </div>

                    <div class="bg-slate-50 p-6 rounded-2xl border-l-4 border-slate-900">
                        <label class="block text-slate-800 font-bold text-lg mb-4">"I count. I am somebody." — How will you honor your unique identity and inherent worth?</label>
                        <textarea id="draft-dignity" placeholder="I will embrace who I am—my heritage, my story, and my unique gifts—because..." class="w-full bg-white border border-slate-200 rounded-xl p-4 focus:border-slate-900 focus:ring-1 focus:ring-slate-900 outline-none h-32 text-slate-700"></textarea>
                    </div>

                    <div class="bg-amber-50 p-6 rounded-2xl border-l-4 border-amber-500">
                        <label class="block text-slate-800 font-bold text-lg mb-4">"The Standard of Excellence" — How will you perform your work so well that no one could do it better?</label>
                        <textarea id="draft-excellence" placeholder="I will master my work so that even the hosts of heaven pause to notice..." class="w-full bg-white border border-amber-200 rounded-xl p-4 focus:border-amber-500 focus:ring-1 focus:ring-amber-500 outline-none h-32 text-slate-700"></textarea>
                    </div>

                    <div class="bg-slate-50 p-6 rounded-2xl border-l-4 border-slate-600">
                        <label class="block text-slate-800 font-bold text-lg mb-4">"Keep Moving" — When life's staircase isn't crystal, how will you find the strength to keep going?</label>
                        <textarea id="draft-moving" placeholder="When I face obstacles, I will fly, run, walk, or crawl, but I will..." class="w-full bg-white border border-slate-200 rounded-xl p-4 focus:border-slate-600 focus:ring-1 focus:ring-slate-600 outline-none h-32 text-slate-700"></textarea>
                    </div>
                </div>

                <div class="text-center pt-4">
                    <button onclick="generateBlueprint()" class="group bg-blue-800 text-white py-4 px-10 rounded-full font-bold shadow-xl hover:bg-blue-900 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1 inline-flex items-center gap-3">
                        <span>Generate My Blueprint</span>
                        <svg class="w-5 h-5 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- NAVIGATION VIEW: RESULT VIEW -->
    <div id="view-result" class="hidden-view min-h-screen flex items-center justify-center bg-blue-900 py-20 px-4">
        <div id="certificate-container" class="max-w-4xl w-full bg-white p-12 md:p-16 rounded shadow-2xl blueprint-border relative">
            <div class="absolute inset-0 opacity-5 pointer-events-none blueprint-grid rounded-2xl"></div>
            <div class="relative z-10 space-y-10">
                <div class="text-center border-b-2 border-blue-100 pb-10">
                    <h1 class="text-4xl md:text-5xl font-black text-blue-800 uppercase tracking-tighter" id="res-name-title">Blueprint</h1>
                    <p class="text-gray-400 uppercase tracking-[0.3em] mt-2 font-bold text-xs">Architect of a Life of Purpose</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                    <div>
                        <h4 class="text-[10px] font-black text-blue-800 uppercase tracking-widest mb-4">Identity & Somebodiness</h4>
                        <p id="res-dignity" class="text-sm text-gray-700 italic border-l-4 border-blue-100 pl-4"></p>
                    </div>
                    <div>
                        <h4 class="text-[10px] font-black text-blue-800 uppercase tracking-widest mb-4">Standard of Excellence</h4>
                        <p id="res-excellence" class="text-sm text-gray-700 italic border-l-4 border-blue-100 pl-4"></p>
                    </div>
                    <div>
                        <h4 class="text-[10px] font-black text-blue-800 uppercase tracking-widest mb-4">Persistence Oath</h4>
                        <p id="res-moving" class="text-sm text-gray-700 italic border-l-4 border-blue-100 pl-4"></p>
                    </div>
                </div>

                <div class="text-center pt-10 border-t-2 border-blue-100">
                    <p class="text-xl font-black text-blue-800 uppercase italic">"Be the BEST of whatever you are."</p>
                    <div class="mt-10 flex flex-col sm:flex-row flex-wrap justify-center gap-3 sm:gap-4 no-print px-4 sm:px-0">
                        <button onclick="downloadAsPDF()" class="bg-blue-800 text-white font-semibold px-6 py-3 rounded-full hover:bg-blue-900 transition active:scale-95 shadow-lg flex items-center justify-center gap-2 w-full sm:w-auto">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                            </svg>
                            Download PDF
                        </button>
                        <button onclick="downloadAsJPG()" class="bg-amber-500 text-blue-900 font-semibold px-6 py-3 rounded-full hover:bg-amber-400 transition active:scale-95 shadow-lg flex items-center justify-center gap-2 w-full sm:w-auto">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                            </svg>
                            Download JPG
                        </button>
                        <button onclick="window.print()" class="bg-blue-100 text-blue-800 font-semibold px-6 py-3 rounded-full hover:bg-blue-200 transition active:scale-95 w-full sm:w-auto">Print</button>
                        <button onclick="showView('infographic')" class="bg-gray-100 text-gray-700 font-semibold px-6 py-3 rounded-full hover:bg-gray-200 transition active:scale-95 w-full sm:w-auto">New Blueprint</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-blue-900 text-blue-200 py-10 no-print">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center gap-8 mb-12">
                <!-- Brand -->
                <div class="flex items-center gap-3">
                    <span class="text-xl font-black text-white tracking-tight">ELVTE Labs</span>
                    <span class="px-2 py-1 text-[10px] font-bold uppercase tracking-wider bg-amber-500/20 text-amber-400 rounded-full">Experiment</span>
                </div>

                <!-- Links -->
                <div class="flex items-center gap-8">
                    <a href="https://linkedin.com/in/ericbrownjr" target="_blank" class="hover:text-white transition-colors flex items-center gap-2 text-sm">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                        Connect
                    </a>
                    <a href="https://github.com/LearnwithEB" target="_blank" class="hover:text-white transition-colors flex items-center gap-2 text-sm">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                        GitHub
                    </a>
                    <a href="https://forms.gle/YOUR_FORM_ID" target="_blank" class="hover:text-white transition-colors flex items-center gap-2 text-sm">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>
                        Feedback
                    </a>
                </div>
            </div>

            <div class="border-t border-blue-800 pt-8 flex flex-col sm:flex-row justify-between items-center gap-4">
                <p class="text-xs text-blue-300">&copy; 2025 ELVTE Labs. An interactive experience inspired by Dr. Martin Luther King Jr.</p>
                <p class="text-xs text-blue-400">Learn. Create. Share. Repeat.</p>
            </div>
        </div>
    </footer>

    <script>
        // Global functions accessible from onclick handlers
        const wrapLabel = (str) => {
            if (str.length <= 16) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = words[0];
            for (let i = 1; i < words.length; i++) {
                if (currentLine.length + 1 + words[i].length <= 16) {
                    currentLine += ' ' + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        };

        const commonTooltipOptions = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) return label.join(' ');
                    return label;
                }
            }
        };

        const showView = (viewId) => {
            document.getElementById('view-infographic').classList.add('hidden-view');
            document.getElementById('view-drafting').classList.add('hidden-view');
            document.getElementById('view-result').classList.add('hidden-view');
            document.getElementById('view-' + viewId).classList.remove('hidden-view');
            window.scrollTo(0, 0);
        };

        const scrollToId = (id) => {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        };

        const generateBlueprint = () => {
            const name = document.getElementById('draft-name').value || "Your Name";
            document.getElementById('res-name-title').innerText = name + "'s Blueprint";
            document.getElementById('res-dignity').innerText = document.getElementById('draft-dignity').value || "No draft recorded.";
            document.getElementById('res-excellence').innerText = document.getElementById('draft-excellence').value || "No draft recorded.";
            document.getElementById('res-moving').innerText = document.getElementById('draft-moving').value || "No draft recorded.";
            showView('result');
        };

        const downloadAsPDF = async () => {
            const certificate = document.getElementById('certificate-container');
            if (!certificate) return;

            try {
                // Hide buttons before capture
                const buttonsContainer = certificate.querySelector('.no-print');
                if (buttonsContainer) buttonsContainer.style.display = 'none';

                // Show loading state
                const pdfBtn = document.querySelector('button[onclick="downloadAsPDF()"]');
                const jpgBtn = document.querySelector('button[onclick="downloadAsJPG()"]');
                const originalPdfText = pdfBtn ? pdfBtn.innerHTML : '';
                const originalJpgText = jpgBtn ? jpgBtn.innerHTML : '';

                if (pdfBtn) {
                    pdfBtn.disabled = true;
                    pdfBtn.innerHTML = '<svg class="animate-spin w-5 h-5 inline-block" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Generating PDF...';
                }
                if (jpgBtn) jpgBtn.disabled = true;

                // Capture the certificate as canvas
                const canvas = await html2canvas(certificate, {
                    scale: 2,
                    useCORS: true,
                    backgroundColor: '#ffffff',
                    logging: false,
                    ignoreElements: (element) => element.classList.contains('no-print')
                });

                // Get dimensions
                const imgWidth = canvas.width;
                const imgHeight = canvas.height;
                const pdfWidth = imgWidth * 0.264583; // Convert px to mm (96 DPI)
                const pdfHeight = imgHeight * 0.264583;

                // Create PDF
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF({
                    orientation: pdfWidth > pdfHeight ? 'landscape' : 'portrait',
                    unit: 'mm',
                    format: [pdfWidth, pdfHeight]
                });

                const imgData = canvas.toDataURL('image/png');
                pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);

                // Get name for filename
                const name = document.getElementById('res-name-title').innerText.replace("'s Blueprint", "").replace(/\s+/g, '_');
                pdf.save(`${name}_Life_Blueprint.pdf`);

                // Show buttons again
                if (buttonsContainer) buttonsContainer.style.display = '';

                // Reset buttons
                if (pdfBtn) {
                    pdfBtn.disabled = false;
                    pdfBtn.innerHTML = originalPdfText;
                }
                if (jpgBtn) {
                    jpgBtn.disabled = false;
                    jpgBtn.innerHTML = originalJpgText;
                }
            } catch (error) {
                console.error('Error generating PDF:', error);
                alert('Error generating PDF. Please try again.');
                // Show buttons again on error
                const buttonsContainer = document.querySelector('#certificate-container .no-print');
                if (buttonsContainer) buttonsContainer.style.display = '';
                const pdfBtn = document.querySelector('button[onclick="downloadAsPDF()"]');
                const jpgBtn = document.querySelector('button[onclick="downloadAsJPG()"]');
                if (pdfBtn) pdfBtn.disabled = false;
                if (jpgBtn) jpgBtn.disabled = false;
            }
        };

        const downloadAsJPG = async () => {
            const certificate = document.getElementById('certificate-container');
            if (!certificate) return;

            try {
                // Hide buttons before capture
                const buttonsContainer = certificate.querySelector('.no-print');
                if (buttonsContainer) buttonsContainer.style.display = 'none';

                // Show loading state
                const pdfBtn = document.querySelector('button[onclick="downloadAsPDF()"]');
                const jpgBtn = document.querySelector('button[onclick="downloadAsJPG()"]');
                const originalPdfText = pdfBtn ? pdfBtn.innerHTML : '';
                const originalJpgText = jpgBtn ? jpgBtn.innerHTML : '';

                if (jpgBtn) {
                    jpgBtn.disabled = true;
                    jpgBtn.innerHTML = '<svg class="animate-spin w-5 h-5 inline-block" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Generating JPG...';
                }
                if (pdfBtn) pdfBtn.disabled = true;

                // Capture the certificate as canvas
                const canvas = await html2canvas(certificate, {
                    scale: 2,
                    useCORS: true,
                    backgroundColor: '#ffffff',
                    logging: false,
                    ignoreElements: (element) => element.classList.contains('no-print')
                });

                // Convert to blob and download
                canvas.toBlob((blob) => {
                    const url = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = url;

                    // Get name for filename
                    const name = document.getElementById('res-name-title').innerText.replace("'s Blueprint", "").replace(/\s+/g, '_');
                    link.download = `${name}_Life_Blueprint.jpg`;

                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    URL.revokeObjectURL(url);

                    // Show buttons again
                    if (buttonsContainer) buttonsContainer.style.display = '';

                    // Reset buttons
                    if (pdfBtn) {
                        pdfBtn.disabled = false;
                        pdfBtn.innerHTML = originalPdfText;
                    }
                    if (jpgBtn) {
                        jpgBtn.disabled = false;
                        jpgBtn.innerHTML = originalJpgText;
                    }
                }, 'image/jpeg', 0.95);
            } catch (error) {
                console.error('Error generating JPG:', error);
                alert('Error generating JPG. Please try again.');
                // Show buttons again on error
                const buttonsContainer = document.querySelector('#certificate-container .no-print');
                if (buttonsContainer) buttonsContainer.style.display = '';
                const pdfBtn = document.querySelector('button[onclick="downloadAsPDF()"]');
                const jpgBtn = document.querySelector('button[onclick="downloadAsJPG()"]');
                if (pdfBtn) pdfBtn.disabled = false;
                if (jpgBtn) jpgBtn.disabled = false;
            }
        };

        // Wait for DOM and Chart.js to be ready
        function initCharts() {
            if (typeof Chart === 'undefined') {
                setTimeout(initCharts, 100);
                return;
            }

            // Interactive Radar Logic
            const radarCanvas = document.getElementById('interactiveRadar');
            if (radarCanvas) {
                const radarCtx = radarCanvas.getContext('2d');
                const radarData = {
                    labels: [
                        wrapLabel('Dignity'),
                        wrapLabel('Excellence'),
                        wrapLabel('Persistence'),
                        wrapLabel('Eternal Values'),
                        wrapLabel('Ready for Opportunity')
                    ],
                    datasets: [{
                        label: 'Blueprint Strength',
                        data: [80, 85, 90, 75, 65],
                        backgroundColor: 'rgba(30, 64, 175, 0.2)',
                        borderColor: '#1E40AF',
                        pointBackgroundColor: '#F59E0B',
                        pointBorderColor: '#fff',
                        pointRadius: 6,
                        borderWidth: 3,
                        tension: 0.15
                    }]
                };

                const myRadar = new Chart(radarCtx, {
                    type: 'radar',
                    data: radarData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                angleLines: { color: '#E2E8F0' },
                                grid: { color: '#E2E8F0' },
                                suggestedMin: 0,
                                suggestedMax: 100,
                                ticks: { display: false },
                                pointLabels: { font: { family: 'Poppins', size: 10, weight: '700' }, color: '#1E40AF' }
                            }
                        },
                        plugins: { legend: { display: false }, tooltip: commonTooltipOptions }
                    }
                });

                const inputsMap = {
                    'worth': 0,
                    'work': 1,
                    'persistence': 2,
                    'values': 3,
                    'opportunity': 4
                };
                Object.keys(inputsMap).forEach(id => {
                    const input = document.getElementById(`input-${id}`);
                    const valueDisplay = document.getElementById(`value-${id}`);
                    if (input) {
                        input.addEventListener('input', (e) => {
                            const value = parseInt(e.target.value);
                            myRadar.data.datasets[0].data[inputsMap[id]] = value;
                            myRadar.update();
                            // Update percentage display
                            if (valueDisplay) {
                                valueDisplay.textContent = value + '%';
                            }
                        });
                    }
                });
            }
        }

        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initCharts);
        } else {
            initCharts();
        }
    </script>
</body>
</html>
